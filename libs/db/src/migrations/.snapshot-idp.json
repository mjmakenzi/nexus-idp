{
  "namespaces": [
    "public"
  ],
  "name": "public",
  "tables": [
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "identifier": {
          "name": "identifier",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 255,
          "mappedType": "string"
        },
        "limit_type": {
          "name": "limit_type",
          "type": "varchar(50)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 50,
          "mappedType": "string"
        },
        "scope": {
          "name": "scope",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 20,
          "mappedType": "string"
        },
        "attempts": {
          "name": "attempts",
          "type": "int",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "0",
          "mappedType": "integer"
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "int",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "integer"
        },
        "window_seconds": {
          "name": "window_seconds",
          "type": "int",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "integer"
        },
        "window_start": {
          "name": "window_start",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "window_end": {
          "name": "window_end",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "blocked_until": {
          "name": "blocked_until",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 45,
          "mappedType": "string"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        }
      },
      "name": "rate_limits",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "window_end"
          ],
          "composite": false,
          "keyName": "idx_window_end",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "blocked_until"
          ],
          "composite": false,
          "keyName": "idx_blocked_until",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "unique_limit",
          "columnNames": [
            "identifier",
            "limit_type",
            "scope"
          ],
          "composite": true,
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "keyName": "rate_limits_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {},
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 100,
          "mappedType": "string"
        },
        "code": {
          "name": "code",
          "type": "varchar(50)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 50,
          "mappedType": "string"
        },
        "description": {
          "name": "description",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "text"
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "json"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "false",
          "mappedType": "boolean"
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "false",
          "mappedType": "boolean"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        }
      },
      "name": "roles",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "code"
          ],
          "composite": false,
          "keyName": "idx_code",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "code"
          ],
          "composite": false,
          "keyName": "roles_code_unique",
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "columnNames": [
            "is_default"
          ],
          "composite": false,
          "keyName": "idx_is_default",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "roles_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {},
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "username": {
          "name": "username",
          "type": "varchar(50)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 50,
          "mappedType": "string"
        },
        "email_normalized": {
          "name": "email_normalized",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 255,
          "mappedType": "string"
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 255,
          "mappedType": "string"
        },
        "phone": {
          "name": "phone",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 20,
          "mappedType": "string"
        },
        "phone_number": {
          "name": "phone_number",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 20,
          "mappedType": "string"
        },
        "country_code": {
          "name": "country_code",
          "type": "char(5)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 5,
          "mappedType": "character"
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 100,
          "mappedType": "string"
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 255,
          "mappedType": "string"
        },
        "password_salt": {
          "name": "password_salt",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 255,
          "mappedType": "string"
        },
        "password_changed_at": {
          "name": "password_changed_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "password_version": {
          "name": "password_version",
          "type": "int",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "1",
          "mappedType": "integer"
        },
        "totp_secret": {
          "name": "totp_secret",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 100,
          "mappedType": "string"
        },
        "backup_codes": {
          "name": "backup_codes",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "mfa_enabled": {
          "name": "mfa_enabled",
          "type": "boolean",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "false",
          "mappedType": "boolean"
        },
        "mfa_method": {
          "name": "mfa_method",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 20,
          "mappedType": "string"
        },
        "email_verified_at": {
          "name": "email_verified_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "phone_verified_at": {
          "name": "phone_verified_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "identity_verified_at": {
          "name": "identity_verified_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "failed_login_attempts": {
          "name": "failed_login_attempts",
          "type": "int",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "0",
          "mappedType": "integer"
        },
        "locked_until": {
          "name": "locked_until",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "last_login_ip": {
          "name": "last_login_ip",
          "type": "varchar(45)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 45,
          "mappedType": "string"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 20,
          "default": "'pending'",
          "mappedType": "string"
        },
        "terms_accepted_at": {
          "name": "terms_accepted_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "terms_version": {
          "name": "terms_version",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 20,
          "mappedType": "string"
        },
        "privacy_accepted_at": {
          "name": "privacy_accepted_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "privacy_version": {
          "name": "privacy_version",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 20,
          "mappedType": "string"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 100,
          "mappedType": "string"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 100,
          "mappedType": "string"
        }
      },
      "name": "users",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "username"
          ],
          "composite": false,
          "keyName": "users_username_unique",
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "columnNames": [
            "email_normalized"
          ],
          "composite": false,
          "keyName": "idx_email_normalized",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "email_normalized"
          ],
          "composite": false,
          "keyName": "users_email_normalized_unique",
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "columnNames": [
            "email"
          ],
          "composite": false,
          "keyName": "users_email_unique",
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "columnNames": [
            "phone"
          ],
          "composite": false,
          "keyName": "idx_phone",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "last_login_at"
          ],
          "composite": false,
          "keyName": "idx_last_login",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "last_login_ip"
          ],
          "composite": false,
          "keyName": "idx_last_login_ip",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "status"
          ],
          "composite": false,
          "keyName": "idx_status",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "deleted_at"
          ],
          "composite": false,
          "keyName": "idx_deleted_at",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "users_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {},
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "bigint"
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(50)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 50,
          "mappedType": "string"
        },
        "event_category": {
          "name": "event_category",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 20,
          "mappedType": "string"
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 20,
          "mappedType": "string"
        },
        "risk_score": {
          "name": "risk_score",
          "type": "smallint",
          "unsigned": true,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "smallint"
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 45,
          "mappedType": "string"
        },
        "geo_location": {
          "name": "geo_location",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "text"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(36)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 36,
          "mappedType": "string"
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "requires_action": {
          "name": "requires_action",
          "type": "boolean",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "false",
          "mappedType": "boolean"
        },
        "is_resolved": {
          "name": "is_resolved",
          "type": "boolean",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "false",
          "mappedType": "boolean"
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 100,
          "mappedType": "string"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        }
      },
      "name": "security_events",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "risk_score"
          ],
          "composite": false,
          "keyName": "idx_risk_score",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "idx_user_occurred",
          "columnNames": [
            "user_id",
            "occurred_at"
          ],
          "composite": true,
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "idx_severity_unresolved",
          "columnNames": [
            "severity",
            "is_resolved"
          ],
          "composite": true,
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "security_events_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "security_events_user_id_foreign": {
          "constraintName": "security_events_user_id_foreign",
          "columnNames": [
            "user_id"
          ],
          "localTableName": "public.security_events",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.users",
          "deleteRule": "set null",
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "bigint"
        },
        "token_hash": {
          "name": "token_hash",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 255,
          "mappedType": "string"
        },
        "token_type": {
          "name": "token_type",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 20,
          "mappedType": "string"
        },
        "jti": {
          "name": "jti",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 100,
          "mappedType": "string"
        },
        "user_agent": {
          "name": "user_agent",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 255,
          "mappedType": "string"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 45,
          "mappedType": "string"
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "revocation_reason": {
          "name": "revocation_reason",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 20,
          "mappedType": "string"
        },
        "revoked_by": {
          "name": "revoked_by",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 100,
          "mappedType": "string"
        }
      },
      "name": "revoked_tokens",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "token_hash"
          ],
          "composite": false,
          "keyName": "idx_token_hash",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "token_hash"
          ],
          "composite": false,
          "keyName": "revoked_tokens_token_hash_unique",
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "columnNames": [
            "expires_at"
          ],
          "composite": false,
          "keyName": "idx_revoked_token_expires_at",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "revoked_tokens_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "revoked_tokens_user_id_foreign": {
          "constraintName": "revoked_tokens_user_id_foreign",
          "columnNames": [
            "user_id"
          ],
          "localTableName": "public.revoked_tokens",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.users",
          "deleteRule": "set null",
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        },
        "user_data_key": {
          "name": "user_data_key",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 100,
          "mappedType": "string"
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 100,
          "mappedType": "string"
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 100,
          "mappedType": "string"
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(200)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 200,
          "mappedType": "string"
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 1000,
          "mappedType": "text"
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "date",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 0,
          "mappedType": "date"
        },
        "gender": {
          "name": "gender",
          "type": "varchar(50)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 50,
          "mappedType": "string"
        },
        "avatar_file_name": {
          "name": "avatar_file_name",
          "type": "varchar(500)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 500,
          "mappedType": "string"
        },
        "cover_file_name": {
          "name": "cover_file_name",
          "type": "varchar(500)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 500,
          "mappedType": "string"
        },
        "website": {
          "name": "website",
          "type": "varchar(500)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 500,
          "mappedType": "string"
        },
        "social_links": {
          "name": "social_links",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "apple_uid": {
          "name": "apple_uid",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 100,
          "mappedType": "string"
        },
        "google_id": {
          "name": "google_id",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 100,
          "mappedType": "string"
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 50,
          "default": "'utc'",
          "mappedType": "string"
        },
        "locale": {
          "name": "locale",
          "type": "varchar(10)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 10,
          "default": "'en-US'",
          "mappedType": "string"
        },
        "preferred_language": {
          "name": "preferred_language",
          "type": "varchar(10)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 10,
          "mappedType": "string"
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        }
      },
      "name": "profiles",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "user_id"
          ],
          "composite": false,
          "keyName": "profiles_user_id_unique",
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "columnNames": [
            "user_data_key"
          ],
          "composite": false,
          "keyName": "idx_user_data_key",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "user_data_key"
          ],
          "composite": false,
          "keyName": "profiles_user_data_key_unique",
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "columnNames": [
            "display_name"
          ],
          "composite": false,
          "keyName": "idx_display_name",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "profiles_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "profiles_user_id_foreign": {
          "constraintName": "profiles_user_id_foreign",
          "columnNames": [
            "user_id"
          ],
          "localTableName": "public.profiles",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.users",
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "bigint"
        },
        "identifier": {
          "name": "identifier",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 20,
          "mappedType": "string"
        },
        "otp_hash": {
          "name": "otp_hash",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 255,
          "mappedType": "string"
        },
        "purpose": {
          "name": "purpose",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 20,
          "mappedType": "string"
        },
        "delivery_method": {
          "name": "delivery_method",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 20,
          "mappedType": "string"
        },
        "step_number": {
          "name": "step_number",
          "type": "int",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "1",
          "mappedType": "integer"
        },
        "attempts": {
          "name": "attempts",
          "type": "int",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "0",
          "mappedType": "integer"
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "int",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "5",
          "mappedType": "integer"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "text"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 45,
          "mappedType": "string"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "is_used": {
          "name": "is_used",
          "type": "boolean",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "false",
          "mappedType": "boolean"
        }
      },
      "name": "otps",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "expires_at"
          ],
          "composite": false,
          "keyName": "idx_otp_expires_at",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "idx_user_purpose",
          "columnNames": [
            "user_id",
            "purpose"
          ],
          "composite": true,
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "idx_identifier_purpose",
          "columnNames": [
            "identifier",
            "purpose",
            "is_used"
          ],
          "composite": true,
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "otps_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "otps_user_id_foreign": {
          "constraintName": "otps_user_id_foreign",
          "columnNames": [
            "user_id"
          ],
          "localTableName": "public.otps",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.users",
          "deleteRule": "set null",
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        },
        "provider": {
          "name": "provider",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 20,
          "mappedType": "string"
        },
        "provider_user_id": {
          "name": "provider_user_id",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 255,
          "mappedType": "string"
        },
        "provider_username": {
          "name": "provider_username",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 255,
          "mappedType": "string"
        },
        "provider_email": {
          "name": "provider_email",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 255,
          "mappedType": "string"
        },
        "provider_data": {
          "name": "provider_data",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "access_token_hash": {
          "name": "access_token_hash",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 255,
          "mappedType": "string"
        },
        "refresh_token_hash": {
          "name": "refresh_token_hash",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 255,
          "mappedType": "string"
        },
        "token_expires_at": {
          "name": "token_expires_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "false",
          "mappedType": "boolean"
        },
        "linked_at": {
          "name": "linked_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        }
      },
      "name": "federated_identities",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "provider_user_id"
          ],
          "composite": false,
          "keyName": "federated_identities_provider_user_id_unique",
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "keyName": "idx_user_provider",
          "columnNames": [
            "user_id",
            "provider"
          ],
          "composite": true,
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "unique_provider_user",
          "columnNames": [
            "provider",
            "provider_user_id"
          ],
          "composite": true,
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "keyName": "federated_identities_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "federated_identities_user_id_foreign": {
          "constraintName": "federated_identities_user_id_foreign",
          "columnNames": [
            "user_id"
          ],
          "localTableName": "public.federated_identities",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.users",
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        },
        "device_fingerprint": {
          "name": "device_fingerprint",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 255,
          "mappedType": "string"
        },
        "device_name": {
          "name": "device_name",
          "type": "varchar(200)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 200,
          "mappedType": "string"
        },
        "device_type": {
          "name": "device_type",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 20,
          "mappedType": "string"
        },
        "os_name": {
          "name": "os_name",
          "type": "varchar(50)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 50,
          "mappedType": "string"
        },
        "os_version": {
          "name": "os_version",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 20,
          "mappedType": "string"
        },
        "browser_name": {
          "name": "browser_name",
          "type": "varchar(50)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 50,
          "mappedType": "string"
        },
        "browser_version": {
          "name": "browser_version",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 20,
          "mappedType": "string"
        },
        "device_metadata": {
          "name": "device_metadata",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "is_trusted": {
          "name": "is_trusted",
          "type": "boolean",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "false",
          "mappedType": "boolean"
        },
        "is_managed": {
          "name": "is_managed",
          "type": "boolean",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "false",
          "mappedType": "boolean"
        },
        "first_seen_at": {
          "name": "first_seen_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "trusted_at": {
          "name": "trusted_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "blocked_at": {
          "name": "blocked_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "block_reason": {
          "name": "block_reason",
          "type": "varchar(500)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 500,
          "mappedType": "string"
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "text"
        },
        "last_ip_address": {
          "name": "last_ip_address",
          "type": "varchar(45)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 45,
          "mappedType": "string"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        }
      },
      "name": "devices",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "device_fingerprint"
          ],
          "composite": false,
          "keyName": "idx_device_fingerprint",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "device_fingerprint"
          ],
          "composite": false,
          "keyName": "devices_device_fingerprint_unique",
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "columnNames": [
            "last_seen_at"
          ],
          "composite": false,
          "keyName": "idx_last_seen_at",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "idx_user_trusted",
          "columnNames": [
            "user_id",
            "is_trusted"
          ],
          "composite": true,
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "devices_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "devices_user_id_foreign": {
          "constraintName": "devices_user_id_foreign",
          "columnNames": [
            "user_id"
          ],
          "localTableName": "public.devices",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.users",
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        },
        "device_id": {
          "name": "device_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "bigint"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(36)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 36,
          "mappedType": "string"
        },
        "access_token_hash": {
          "name": "access_token_hash",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 255,
          "mappedType": "string"
        },
        "refresh_token_hash": {
          "name": "refresh_token_hash",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 255,
          "mappedType": "string"
        },
        "granted_permissions": {
          "name": "granted_permissions",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "text"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 45,
          "mappedType": "string"
        },
        "geo_location": {
          "name": "geo_location",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "max_expires_at": {
          "name": "max_expires_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "terminated_at": {
          "name": "terminated_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "termination_reason": {
          "name": "termination_reason",
          "type": "varchar(50)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 50,
          "mappedType": "string"
        },
        "is_remembered": {
          "name": "is_remembered",
          "type": "boolean",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "false",
          "mappedType": "boolean"
        }
      },
      "name": "sessions",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "session_id"
          ],
          "composite": false,
          "keyName": "idx_session_id",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "session_id"
          ],
          "composite": false,
          "keyName": "sessions_session_id_unique",
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "columnNames": [
            "last_activity_at"
          ],
          "composite": false,
          "keyName": "idx_last_activity",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "expires_at"
          ],
          "composite": false,
          "keyName": "idx_session_expires_at",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "idx_user_active",
          "columnNames": [
            "user_id",
            "terminated_at"
          ],
          "composite": true,
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "sessions_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "sessions_user_id_foreign": {
          "constraintName": "sessions_user_id_foreign",
          "columnNames": [
            "user_id"
          ],
          "localTableName": "public.sessions",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.users",
          "updateRule": "cascade"
        },
        "sessions_device_id_foreign": {
          "constraintName": "sessions_device_id_foreign",
          "columnNames": [
            "device_id"
          ],
          "localTableName": "public.sessions",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.devices",
          "deleteRule": "set null",
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "original_session_id": {
          "name": "original_session_id",
          "type": "varchar(36)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 36,
          "mappedType": "string"
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        },
        "device_id": {
          "name": "device_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "bigint"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(36)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 36,
          "mappedType": "string"
        },
        "access_token_hash": {
          "name": "access_token_hash",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 255,
          "mappedType": "string"
        },
        "refresh_token_hash": {
          "name": "refresh_token_hash",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 255,
          "mappedType": "string"
        },
        "granted_permissions": {
          "name": "granted_permissions",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "text"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 45,
          "mappedType": "string"
        },
        "geo_location": {
          "name": "geo_location",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "max_expires_at": {
          "name": "max_expires_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "terminated_at": {
          "name": "terminated_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "termination_reason": {
          "name": "termination_reason",
          "type": "varchar(50)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 50,
          "default": "'archived'",
          "mappedType": "string"
        },
        "is_remembered": {
          "name": "is_remembered",
          "type": "boolean",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "false",
          "mappedType": "boolean"
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "retention_days": {
          "name": "retention_days",
          "type": "int",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "2555",
          "mappedType": "integer"
        },
        "retention_expires_at": {
          "name": "retention_expires_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        }
      },
      "name": "session_archives",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "original_session_id"
          ],
          "composite": false,
          "keyName": "idx_original_session_id",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "session_id"
          ],
          "composite": false,
          "keyName": "idx_archive_session_id",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "last_activity_at"
          ],
          "composite": false,
          "keyName": "idx_archive_last_activity",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "expires_at"
          ],
          "composite": false,
          "keyName": "idx_archive_expires_at",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "terminated_at"
          ],
          "composite": false,
          "keyName": "idx_archive_terminated_at",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "archived_at"
          ],
          "composite": false,
          "keyName": "idx_archived_at",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "retention_expires_at"
          ],
          "composite": false,
          "keyName": "idx_retention_expires_at",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "idx_archive_user",
          "columnNames": [
            "user_id",
            "terminated_at"
          ],
          "composite": true,
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "session_archives_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "session_archives_user_id_foreign": {
          "constraintName": "session_archives_user_id_foreign",
          "columnNames": [
            "user_id"
          ],
          "localTableName": "public.session_archives",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.users",
          "updateRule": "cascade"
        },
        "session_archives_device_id_foreign": {
          "constraintName": "session_archives_device_id_foreign",
          "columnNames": [
            "device_id"
          ],
          "localTableName": "public.session_archives",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.devices",
          "deleteRule": "set null",
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "bigint"
        },
        "target_user_id": {
          "name": "target_user_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "bigint"
        },
        "actor_type": {
          "name": "actor_type",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 20,
          "mappedType": "string"
        },
        "action": {
          "name": "action",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 20,
          "mappedType": "string"
        },
        "resource_type": {
          "name": "resource_type",
          "type": "varchar(50)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 50,
          "mappedType": "string"
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 100,
          "mappedType": "string"
        },
        "old_values": {
          "name": "old_values",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "new_values": {
          "name": "new_values",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 45,
          "mappedType": "string"
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "text"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "performed_at": {
          "name": "performed_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        }
      },
      "name": "audit_logs",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "performed_at"
          ],
          "composite": false,
          "keyName": "idx_performed_at",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "idx_user_performed",
          "columnNames": [
            "user_id",
            "performed_at"
          ],
          "composite": true,
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "idx_resource",
          "columnNames": [
            "resource_type",
            "resource_id"
          ],
          "composite": true,
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "audit_logs_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "audit_logs_user_id_foreign": {
          "constraintName": "audit_logs_user_id_foreign",
          "columnNames": [
            "user_id"
          ],
          "localTableName": "public.audit_logs",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.users",
          "deleteRule": "set null",
          "updateRule": "cascade"
        },
        "audit_logs_target_user_id_foreign": {
          "constraintName": "audit_logs_target_user_id_foreign",
          "columnNames": [
            "target_user_id"
          ],
          "localTableName": "public.audit_logs",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.users",
          "deleteRule": "set null",
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 200,
          "mappedType": "string"
        },
        "key_id": {
          "name": "key_id",
          "type": "varchar(50)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 50,
          "mappedType": "string"
        },
        "key_hash": {
          "name": "key_hash",
          "type": "varchar(255)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 255,
          "mappedType": "string"
        },
        "key_prefix": {
          "name": "key_prefix",
          "type": "varchar(20)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 20,
          "mappedType": "string"
        },
        "allowed_permissions": {
          "name": "allowed_permissions",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "allowed_ips": {
          "name": "allowed_ips",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "rate_limits": {
          "name": "rate_limits",
          "type": "jsonb",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "json"
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "last_used_ip": {
          "name": "last_used_ip",
          "type": "varchar(45)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 45,
          "mappedType": "string"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "true",
          "mappedType": "boolean"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 100,
          "mappedType": "string"
        }
      },
      "name": "api_keys",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "key_id"
          ],
          "composite": false,
          "keyName": "idx_key_id",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "columnNames": [
            "key_id"
          ],
          "composite": false,
          "keyName": "api_keys_key_id_unique",
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "keyName": "idx_api_key_user_active",
          "columnNames": [
            "user_id",
            "is_active"
          ],
          "composite": true,
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "api_keys_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "api_keys_user_id_foreign": {
          "constraintName": "api_keys_user_id_foreign",
          "columnNames": [
            "user_id"
          ],
          "localTableName": "public.api_keys",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.users",
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        },
        "role_id": {
          "name": "role_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        },
        "granted_at": {
          "name": "granted_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "mappedType": "datetime"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamptz",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 6,
          "mappedType": "datetime"
        },
        "granted_by": {
          "name": "granted_by",
          "type": "varchar(100)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "length": 100,
          "mappedType": "string"
        },
        "grant_reason": {
          "name": "grant_reason",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "text"
        }
      },
      "name": "user_roles",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "expires_at"
          ],
          "composite": false,
          "keyName": "idx_user_role_expires_at",
          "constraint": false,
          "primary": false,
          "unique": false
        },
        {
          "keyName": "unique_user_role",
          "columnNames": [
            "user_id",
            "role_id"
          ],
          "composite": true,
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "keyName": "user_roles_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "user_roles_user_id_foreign": {
          "constraintName": "user_roles_user_id_foreign",
          "columnNames": [
            "user_id"
          ],
          "localTableName": "public.user_roles",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.users",
          "updateRule": "cascade"
        },
        "user_roles_role_id_foreign": {
          "constraintName": "user_roles_role_id_foreign",
          "columnNames": [
            "role_id"
          ],
          "localTableName": "public.user_roles",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.roles",
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    }
  ],
  "nativeEnums": {}
}
